<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width">
    <link rel="stylesheet" type="text/css" href="./css/style.css" />
	<title>update items</title>
</head>
<body>
	<a id="logout" href="user-login.html"><h4>Logout and Exit</h4></a> 
	<div class="container">
    	<header>
        	<div class="head">
            	<a href="admin-receive-order.html"><h2>Fast-Food-Fast | Items</h2></a>
        	</div>       
    	</header>
    	<div class="content-section">
            <button type="submit" class="button-1"><a href="admin-item.html">Add Fast Food</a></button>
		</div> 
        <div class="content-section-1">   
			<div id='items'>

            </div>
			
    	</div>   
    </div>	
    <script>
    window.addEventListener('load', getMenu);
	document.getElementById('logout').addEventListener('click', logout);
	var token = sessionStorage.getItem('Token');
	function logout(){
            alert('Logout and Exit?')
            sessionStorage.removeItem('Token');
           
        }
	function getMenu(){
		fetch('http://127.0.0.1:5000/api/v1/menu',{
			headers:{'Authorization': 'Bearer '+ token,
			credentials:'include'
				}
		}	
			
		)
		.then((response)=> response.json())
		
		.then((data)=>{
			
			let output = '<div></div>';
			
			data.forEach((item)=>{
				
				output
				+=`

				<article>
				<table>
                    <button type="submit" class="button-2"><a href="admin-item.html">Edit</a></button>
                    <button type="submit" class="button-3" id ><a href=#>Delete</a></button>
					<tr>
						<p id="order">${item.content}</p>
                        <p>${item.detail} </p>
                        <p id="order">Price: ${item.price} UGX </p>	 
                    </tr>
				</table>  
			    </article>
				`	
				//document.getElementById('menu_item').innerHTML=output
				
			});
		
			document.getElementById('items').innerHTML=output
			
			//}
		
		})
		
	}
    function onOrder(item_id){
		//let content = document.getElementById('').value;
		
		fetch('http://127.0.0.1:5000/api/v1/users/orders',{
                method:'POST',
                headers:{'Accept':'application/json, text/plain, */*',
                    'Content-type':'application/json',
                    'Authorization': 'Bearer '+ token,
			        credentials:'include'},
                body:JSON.stringify({item_id:item_id})   
            })
			.then((res)=>res.json())
			.then((data)=>{
				console.log(data)
			})
	}
    </script>
</body>
</html>